<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.project.dasi.order.model.dao.OrderMapper">

    <insert id="insertOrderContent">
        INSERT INTO ORDER_LIST (
        USER_CODE
        ,CATEGORY_CODE
        ,SIZE_INFO
        ,PHRASE
        ,REQ_ISSUES
        )
        VALUES (
        #{ user }
        ,#{ categoryCode }
        ,#{ sizeInfo }
        ,#{ phrase }
        ,#{ reqIssues }
        )

    </insert>

    <insert id="insertOrderFile">
        <if test="originName != null">
        INSERT INTO ORDER_FILES (
            ORDER_ID
            ,ORIGIN_NAME
            ,SAVED_NAME
            ,SAVED_PATH
            ,UPLOAD_PATH
        )
        VALUES  (
            (SELECT ORDER_ID FROM ORDER_LIST WHERE ORDER_ID = #{ orderId })
            ,#{ originName }
            , #{ savedName }
            , #{ savePath }
            , #{ uploadPath }
        )
        </if>
    </insert>
</mapper>